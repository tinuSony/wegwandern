!function(e){var t={};function r(i){if(t[i])return t[i].exports;var o=t[i]={i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=t,r.d=function(e,t,i){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:i})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/",r(r.s=6)}([function(e,t){e.exports=jQuery},function(e,t){e.exports=React},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t,r){r(7),e.exports=r(8)},function(e,t,r){"use strict"},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(0),o=r.n(i),a=r(9);o()(window).on("et_builder_api_ready",function(e,t){t.registerModules(a.a)})},function(e,t,r){"use strict";var i=r(10),o=r(11),a=r(12),s=r(13);t.a=[i.a,o.a,a.a,s.a]},function(e,t,r){"use strict";var i=r(1),o=r.n(i),a=r(0),s=r.n(a),n=r(2);r.n(n);function l(e){return(l="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function c(e,t){return!t||"object"!==l(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var d=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=c(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))).state={html:"",loading:!0,embed:!0},r.wrap=o.a.createRef(),r}var r,a,n;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i["Component"]),r=t,(a=[{key:"componentWillMount",value:function(){"undefined"!==typeof this.props.url&&this.loadHtml(this.props)}},{key:"componentWillReceiveProps",value:function(e){this.props.url===e.url&&this.props.embed===e.embed&&this.props.target===e.target||this.loadHtml(e)}},{key:"loadHtml",value:function(e){var t=this;this.state.loading||this.setState({loading:!0});var r="",i="";"undefined"!==typeof e.width?r=e.width:"undefined"!==typeof e.max_width&&(r=e.max_width),"undefined"!==typeof e.height?i=e.height:"undefined"!==typeof e.max_height&&(i=e.max_height),fetch(window.et_fb_options.ajaxurl+"?action=wpmf_divi_load_pdf_embed_html&url=".concat(e.url,"&embed=").concat(e.embed,"&target=").concat(e.target,"&width=").concat(r,"&height=").concat(i,"&et_admin_load_nonce=").concat(window.et_fb_options.et_admin_load_nonce)).then(function(e){return e.json()}).then(function(e){t.setState({html:e.html,loading:!1,embed:!1})},function(e){t.setState({html:"",loading:!0})})}},{key:"componentDidUpdate",value:function(e,t){"on"!==this.props.embed||this.state.embed||(s()(this.wrap.current).find(".wpmf-pdfemb-viewer").length&&s()(this.wrap.current).find(".wpmf-pdfemb-viewer").pdfEmbedder(),this.setState({embed:!0}))}},{key:"render",value:function(){var e=o.a.createElement("svg",{className:"wpfd-loading",width:"100%",height:"100%",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid"},o.a.createElement("g",{transform:"translate(25 50)"},o.a.createElement("circle",{cx:"0",cy:"0",r:"10",fill:"#cfcfcf",transform:"scale(0.590851 0.590851)"},o.a.createElement("animateTransform",{attributeName:"transform",type:"scale",begin:"-0.8666666666666667s",calcMode:"spline",keySplines:"0.3 0 0.7 1;0.3 0 0.7 1",values:"0.5;1;0.5",keyTimes:"0;0.5;1",dur:"2.6s",repeatCount:"indefinite"}))),o.a.createElement("g",{transform:"translate(50 50)"},o.a.createElement("circle",{cx:"0",cy:"0",r:"10",fill:"#cfcfcf",transform:"scale(0.145187 0.145187)"},o.a.createElement("animateTransform",{attributeName:"transform",type:"scale",begin:"-0.43333333333333335s",calcMode:"spline",keySplines:"0.3 0 0.7 1;0.3 0 0.7 1",values:"0.5;1;0.5",keyTimes:"0;0.5;1",dur:"2.6s",repeatCount:"indefinite"}))),o.a.createElement("g",{transform:"translate(75 50)"},o.a.createElement("circle",{cx:"0",cy:"0",r:"10",fill:"#cfcfcf",transform:"scale(0.0339143 0.0339143)"},o.a.createElement("animateTransform",{attributeName:"transform",type:"scale",begin:"0s",calcMode:"spline",keySplines:"0.3 0 0.7 1;0.3 0 0.7 1",values:"0.5;1;0.5",keyTimes:"0;0.5;1",dur:"2.6s",repeatCount:"indefinite"}))));return"undefined"===typeof this.props.url?o.a.createElement("div",{className:"wpmf-divi-container"},o.a.createElement("div",{id:"divi-pdf-embed-placeholder",className:"divi-pdf-embed-placeholder"},o.a.createElement("span",{className:"wpmf-divi-message"},"Please select a PDF file to activate the preview"))):this.state.loading?o.a.createElement("div",{className:"wpmf-divi-container"},o.a.createElement("div",{className:"wpmf-loading-wrapper"},o.a.createElement("i",{className:"wpmf-loading"},e))):this.state.loading?void 0:o.a.createElement("div",{className:"wpmf-pdf-embed-wrap",ref:this.wrap,dangerouslySetInnerHTML:{__html:this.state.html}})}}])&&p(r.prototype,a),n&&p(r,n),t}();Object.defineProperty(d,"slug",{configurable:!0,enumerable:!0,writable:!0,value:"wpmf_pdf_embed"}),t.a=d},function(e,t,r){"use strict";var i=r(1),o=r.n(i),a=r(3);r.n(a);function s(e){return(s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function l(e,t){return!t||"object"!==s(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var p=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))).state={html:"",loading:!0},r}var r,a,s;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i["Component"]),r=t,(a=[{key:"componentWillMount",value:function(){"undefined"!==typeof this.props.url&&this.loadHtml(this.props)}},{key:"componentWillReceiveProps",value:function(e){this.props.url===e.url&&this.props.align===e.align||this.loadHtml(e)}},{key:"loadHtml",value:function(e){var t=this;this.state.loading||this.setState({loading:!0}),fetch(window.et_fb_options.ajaxurl+"?action=wpmf_divi_load_file_design_html&url=".concat(e.url,"&align=").concat(e.align,"&et_admin_load_nonce=").concat(window.et_fb_options.et_admin_load_nonce)).then(function(e){return e.json()}).then(function(e){t.setState({html:e.html,loading:!1})},function(e){t.setState({html:"",loading:!0})})}},{key:"render",value:function(){var e=o.a.createElement("svg",{className:"wpfd-loading",width:"100%",height:"100%",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid"},o.a.createElement("g",{transform:"translate(25 50)"},o.a.createElement("circle",{cx:"0",cy:"0",r:"10",fill:"#cfcfcf",transform:"scale(0.590851 0.590851)"},o.a.createElement("animateTransform",{attributeName:"transform",type:"scale",begin:"-0.8666666666666667s",calcMode:"spline",keySplines:"0.3 0 0.7 1;0.3 0 0.7 1",values:"0.5;1;0.5",keyTimes:"0;0.5;1",dur:"2.6s",repeatCount:"indefinite"}))),o.a.createElement("g",{transform:"translate(50 50)"},o.a.createElement("circle",{cx:"0",cy:"0",r:"10",fill:"#cfcfcf",transform:"scale(0.145187 0.145187)"},o.a.createElement("animateTransform",{attributeName:"transform",type:"scale",begin:"-0.43333333333333335s",calcMode:"spline",keySplines:"0.3 0 0.7 1;0.3 0 0.7 1",values:"0.5;1;0.5",keyTimes:"0;0.5;1",dur:"2.6s",repeatCount:"indefinite"}))),o.a.createElement("g",{transform:"translate(75 50)"},o.a.createElement("circle",{cx:"0",cy:"0",r:"10",fill:"#cfcfcf",transform:"scale(0.0339143 0.0339143)"},o.a.createElement("animateTransform",{attributeName:"transform",type:"scale",begin:"0s",calcMode:"spline",keySplines:"0.3 0 0.7 1;0.3 0 0.7 1",values:"0.5;1;0.5",keyTimes:"0;0.5;1",dur:"2.6s",repeatCount:"indefinite"}))));return"undefined"===typeof this.props.url?o.a.createElement("div",{className:"wpmf-divi-container"},o.a.createElement("div",{id:"divi-file-design-placeholder",className:"divi-file-design-placeholder"},o.a.createElement("span",{className:"wpmf-divi-message"},"WP Media Folder media download. Select a media and transform it into a download button"))):this.state.loading?o.a.createElement("div",{className:"wpmf-divi-container"},o.a.createElement("div",{className:"wpmf-loading-wrapper"},o.a.createElement("i",{className:"wpmf-loading"},e))):this.state.loading?void 0:o.a.createElement("div",{className:"wpmf-file-design-wrap",dangerouslySetInnerHTML:{__html:this.state.html}})}}])&&n(r.prototype,a),s&&n(r,s),t}();Object.defineProperty(p,"slug",{configurable:!0,enumerable:!0,writable:!0,value:"wpmf_file_design"}),t.a=p},function(e,t,r){"use strict";var i=r(1),o=r.n(i),a=r(0),s=r.n(a),n=r(4);r.n(n);function l(e){return(l="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function c(e,t){return!t||"object"!==l(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var d=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=c(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))).state={html:"",loading:!0},r.wrap=o.a.createRef(),r}var r,a,n;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i["Component"]),r=t,(a=[{key:"componentWillMount",value:function(){""!==this.props.items&&this.loadHtml(this.props)}},{key:"componentWillReceiveProps",value:function(e){this.props.items===e.items&&this.props.aspect_ratio===e.aspect_ratio&&this.props.columns===e.columns&&this.props.theme===e.theme&&this.props.size===e.size&&this.props.orderby===e.orderby&&this.props.order===e.order&&this.props.border_radius===e.border_radius&&this.props.gutterwidth===e.gutterwidth&&this.props.border_width===e.border_width&&this.props.border_color===e.border_color&&this.props.border_style===e.border_style&&this.props.enable_shadow===e.enable_shadow&&this.props.shadow_color===e.shadow_color&&this.props.shadow_horizontal===e.shadow_horizontal&&this.props.shadow_vertical===e.shadow_vertical&&this.props.shadow_blur===e.shadow_blur&&this.props.shadow_spread===e.shadow_spread&&this.props.gallery_folders===e.gallery_folders&&this.props.gallery_folder_id===e.gallery_folder_id||this.loadHtml(e)}},{key:"componentDidMount",value:function(){if(""!==this.props.items)var e=this,t=setInterval(function(){"masonry"!==e.props.theme&&"portfolio"!==e.props.theme||s()(e.wrap.current).find(".gallery-masonry").length&&(e.initMasonry(),clearInterval(t)),"slider"===e.props.theme&&s()(e.wrap.current).find(".wpmfslick").length&&(e.initSlider(),clearInterval(t))},200)}},{key:"componentDidUpdate",value:function(e){if(""!==this.props.items&&(this.props.items!==e.items||this.props.aspect_ratio!==e.aspect_ratio||this.props.columns!==e.columns||this.props.theme!==e.theme||this.props.size!==e.size||this.props.orderby!==e.orderby||this.props.order!==e.order||this.props.border_radius!==e.border_radius||this.props.gutterwidth!==e.gutterwidth||this.props.border_width!==e.border_width||this.props.border_color!==e.border_color||this.props.border_style!==e.border_style||this.props.enable_shadow!==e.enable_shadow||this.props.shadow_color!==e.shadow_color||this.props.shadow_horizontal!==e.shadow_horizontal||this.props.shadow_vertical!==e.shadow_vertical||this.props.shadow_blur!==e.shadow_blur||this.props.shadow_spread!==e.shadow_spread||this.props.gallery_folders!==e.gallery_folders||this.props.gallery_folder_id!==e.gallery_folder_id))var t=this,r=setInterval(function(){"masonry"!==t.props.theme&&"portfolio"!==t.props.theme||s()(t.wrap.current).find(".gallery-masonry").length&&(t.initMasonry(),clearInterval(r)),"slider"===t.props.theme&&s()(t.wrap.current).find(".wpmfslick").length&&(t.props.aspect_ratio!==e.aspect_ratio?t.initSlider(!0):t.initSlider(),clearInterval(r))},200)}},{key:"calculateGrid",value:function(e){var t=parseInt(e.data("wpmfcolumns")),r=e.data("gutterWidth"),i=e.width();isNaN(r)?r=5:(r>500||r<0)&&(r=5),(parseInt(t)<2||i<=450)&&(t=2);var o=i-(r=parseInt(r))*(t-1);return{columnWidth:Math.floor(o/t),gutterWidth:r,columns:t}}},{key:"initMasonry",value:function(){var e=s()(this.wrap.current).find(".gallery-masonry");if(!e.is(":hidden")){e.hasClass("masonry")&&e.masonry("destroy");var t=this;e.imagesLoaded(function(){var r=e.children(".wpmf-gallery-item"),i=t.calculateGrid(e);r.css({width:i.columnWidth+"px","margin-bottom":i.gutterWidth+"px"}),e.masonry({itemSelector:".wpmf-gallery-item",columnWidth:i.columnWidth,gutter:i.gutterWidth,isFitWidth:!0,transitionDuration:0}),e.css("visibility","visible")})}}},{key:"initSlider",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=s()(this.wrap.current).find(".wpmfslick");if(!t.is(":hidden")){var r=parseInt(t.data("wpmfcolumns")),i=t.data("auto_animation");(t.hasClass("slick-initialized")||e)&&t.slick("destroy"),t.imagesLoaded(function(){var e={infinite:!0,slidesToShow:parseInt(r),slidesToScroll:parseInt(r),pauseOnHover:!0,autoplay:1===i,adaptiveHeight:1===parseInt(r),autoplaySpeed:5e3,rows:1,responsive:[{breakpoint:1024,settings:{slidesToShow:3,slidesToScroll:3,infinite:!0,dots:!0}},{breakpoint:600,settings:{slidesToShow:2,slidesToScroll:2}},{breakpoint:480,settings:{slidesToShow:1,slidesToScroll:1}}]};t.slick(e)})}}},{key:"loadHtml",value:function(e){var t=this;this.state.loading||this.setState({loading:!0});var r="";"on"===e.enable_shadow&&(r=e.shadow_horizontal+" "+e.shadow_vertical+" "+e.shadow_blur+" "+e.shadow_spread+" "+e.shadow_color);var i={items:e.items,display:e.theme,columns:e.columns,size:e.size,targetsize:e.targetsize,link:e.action,orderby:e.orderby,order:e.order,gutterwidth:e.gutterwidth,border_width:e.border_width,border_style:e.border_style,border_color:e.border_color,img_shadow:r,border_radius:e.border_radius,wpmf_autoinsert:e.gallery_folders,wpmf_folder_id:e.gallery_folder_id};fetch(window.et_fb_options.ajaxurl+"?action=wpmf_divi_load_gallery_html&et_admin_load_nonce=".concat(window.et_fb_options.et_admin_load_nonce),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)}).then(function(e){return e.json()}).then(function(e){t.setState({html:e.html,loading:!1})},function(e){t.setState({html:"",loading:!0})})}},{key:"render",value:function(){var e=o.a.createElement("svg",{className:"wpfd-loading",width:"100%",height:"100%",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid"},o.a.createElement("g",{transform:"translate(25 50)"},o.a.createElement("circle",{cx:"0",cy:"0",r:"10",fill:"#cfcfcf",transform:"scale(0.590851 0.590851)"},o.a.createElement("animateTransform",{attributeName:"transform",type:"scale",begin:"-0.8666666666666667s",calcMode:"spline",keySplines:"0.3 0 0.7 1;0.3 0 0.7 1",values:"0.5;1;0.5",keyTimes:"0;0.5;1",dur:"2.6s",repeatCount:"indefinite"}))),o.a.createElement("g",{transform:"translate(50 50)"},o.a.createElement("circle",{cx:"0",cy:"0",r:"10",fill:"#cfcfcf",transform:"scale(0.145187 0.145187)"},o.a.createElement("animateTransform",{attributeName:"transform",type:"scale",begin:"-0.43333333333333335s",calcMode:"spline",keySplines:"0.3 0 0.7 1;0.3 0 0.7 1",values:"0.5;1;0.5",keyTimes:"0;0.5;1",dur:"2.6s",repeatCount:"indefinite"}))),o.a.createElement("g",{transform:"translate(75 50)"},o.a.createElement("circle",{cx:"0",cy:"0",r:"10",fill:"#cfcfcf",transform:"scale(0.0339143 0.0339143)"},o.a.createElement("animateTransform",{attributeName:"transform",type:"scale",begin:"0s",calcMode:"spline",keySplines:"0.3 0 0.7 1;0.3 0 0.7 1",values:"0.5;1;0.5",keyTimes:"0;0.5;1",dur:"2.6s",repeatCount:"indefinite"}))));return""===this.props.items&&0===parseInt(this.props.gallery_folder_id)?o.a.createElement("div",{className:"wpmf-divi-container wpmf-gallery-divi-wrap",ref:this.wrap},o.a.createElement("div",{id:"divi-gallery-placeholder",className:"divi-gallery-placeholder"},o.a.createElement("span",{className:"wpmf-divi-message"},"Please add some images to the gallery to activate the preview"))):this.state.loading?o.a.createElement("div",{className:"wpmf-divi-container wpmf-gallery-divi-wrap",ref:this.wrap},o.a.createElement("div",{className:"wpmf-loading-wrapper"},o.a.createElement("i",{className:"wpmf-loading"},e))):this.state.loading?void 0:o.a.createElement("div",{className:"wpmf-gallery-divi-wrap",ref:this.wrap,dangerouslySetInnerHTML:{__html:this.state.html}})}}])&&p(r.prototype,a),n&&p(r,n),t}();Object.defineProperty(d,"slug",{configurable:!0,enumerable:!0,writable:!0,value:"wpmf_gallery_divi"}),t.a=d},function(e,t,r){"use strict";var i=r(1),o=r.n(i),a=r(0),s=r.n(a),n=r(5);r.n(n);function l(e){return(l="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function c(e,t){return!t||"object"!==l(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var d=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=c(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))).state={html:"",loading:!0},r.wrap=o.a.createRef(),r}var r,a,n;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i["Component"]),r=t,(a=[{key:"componentWillMount",value:function(){""!==this.props.items&&this.loadHtml(this.props)}},{key:"componentWillReceiveProps",value:function(e){this.props.gallery_id===e.gallery_id&&this.props.columns===e.columns&&this.props.theme===e.theme&&this.props.layout===e.layout&&this.props.row_height===e.row_height&&this.props.aspect_ratio===e.aspect_ratio&&this.props.size===e.size&&this.props.orderby===e.orderby&&this.props.order===e.order&&this.props.border_radius===e.border_radius&&this.props.gutterwidth===e.gutterwidth&&this.props.border_width===e.border_width&&this.props.border_color===e.border_color&&this.props.border_style===e.border_style&&this.props.enable_shadow===e.enable_shadow&&this.props.shadow_color===e.shadow_color&&this.props.shadow_horizontal===e.shadow_horizontal&&this.props.shadow_vertical===e.shadow_vertical&&this.props.shadow_blur===e.shadow_blur&&this.props.shadow_spread===e.shadow_spread&&this.props.gallery_image_tags===e.gallery_image_tags&&this.props.gallery_navigation===e.gallery_navigation&&this.props.sub_galleries_listing===e.sub_galleries_listing&&this.props.number_lines===e.number_lines&&this.props.disable_overlay===e.disable_overlay&&this.props.download_all===e.download_all&&this.props.hover_color===e.hover_color&&this.props.hover_opacity===e.hover_opacity&&this.props.hover_title_position===e.hover_title_position&&this.props.hover_title_size===e.hover_title_size&&this.props.hover_title_color===e.hover_title_color&&this.props.hover_desc_position===e.hover_desc_position&&this.props.hover_desc_size===e.hover_desc_size&&this.props.hover_desc_color===e.hover_desc_color||this.loadHtml(e)}},{key:"componentDidMount",value:function(){var e,t=this.props.gallery_id;-1!=t.indexOf("-")?e=t.split("-")[1]:e=t;if(0!==e)var r=this,i=setInterval(function(){s()(r.wrap.current).find(".loading_gallery").hide(),"masonry"===r.props.theme&&s()(r.wrap.current).find(".gallery-masonry").length&&(r.initMasonry(),clearInterval(i)),"custom_grid"===r.props.theme&&s()(r.wrap.current).find(".wpmf-custom-grid").length&&(r.initCustomGrid(),clearInterval(i)),"slider"===r.props.theme&&s()(r.wrap.current).find(".wpmfslick").length&&(r.initSlider(),clearInterval(i)),"flowslide"===r.props.theme&&s()(r.wrap.current).find(".wpmf-flipster").length&&(r.initFlowsSlide(),clearInterval(i))},200)}},{key:"componentDidUpdate",value:function(e){var t,r=this.props.gallery_id;-1!=r.indexOf("-")?t=r.split("-")[1]:t=r;if(0!==t&&(t!==e.gallery_id||this.props.columns!==e.columns||this.props.theme!==e.theme||this.props.layout!==e.layout||this.props.row_height!==e.row_height||this.props.aspect_ratio!==e.aspect_ratio||this.props.size!==e.size||this.props.orderby!==e.orderby||this.props.order!==e.order||this.props.border_radius!==e.border_radius||this.props.gutterwidth!==e.gutterwidth||this.props.border_width!==e.border_width||this.props.border_color!==e.border_color||this.props.border_style!==e.border_style||this.props.enable_shadow!==e.enable_shadow||this.props.shadow_color!==e.shadow_color||this.props.shadow_horizontal!==e.shadow_horizontal||this.props.shadow_vertical!==e.shadow_vertical||this.props.shadow_blur!==e.shadow_blur||this.props.shadow_spread!==e.shadow_spread||this.props.gallery_image_tags!==e.gallery_image_tags||this.props.disable_overlay!==e.disable_overlay||this.props.download_all!==e.download_all||this.props.gallery_navigation!==e.gallery_navigation||this.props.sub_galleries_listing!==e.sub_galleries_listing||this.props.number_lines!==e.number_lines||this.props.hover_color!==e.hover_color||this.props.hover_opacity!==e.hover_opacity||this.props.hover_title_position!==e.hover_title_position||this.props.hover_title_size!==e.hover_title_size||this.props.hover_title_color!==e.hover_title_color||this.props.hover_desc_position!==e.hover_desc_position||this.props.hover_desc_size!==e.hover_desc_size||this.props.hover_desc_color!==e.hover_desc_color))var i=this,o=setInterval(function(){s()(i.wrap.current).find(".loading_gallery").hide(),"masonry"===i.props.theme&&s()(i.wrap.current).find(".gallery-masonry").length&&(i.initMasonry(),clearInterval(o)),"custom_grid"===i.props.theme&&s()(i.wrap.current).find(".wpmf-custom-grid").length&&(i.initCustomGrid(),clearInterval(o)),"slider"===i.props.theme&&s()(i.wrap.current).find(".wpmfslick").length&&(i.initSlider(),clearInterval(o)),"flowslide"===i.props.theme&&s()(i.wrap.current).find(".wpmf-flipster").length&&(i.initFlowsSlide(),clearInterval(o))},1e3)}},{key:"calculateGrid",value:function(e){var t=parseInt(e.data("wpmfcolumns")),r=e.data("gutterWidth"),i=e.width();isNaN(r)?r=5:(r>500||r<0)&&(r=5),(parseInt(t)<2||i<=450)&&(t=2);var o=i-(r=parseInt(r))*(t-1);return{columnWidth:Math.floor(o/t),gutterWidth:r,columns:t}}},{key:"initFlowsSlide",value:function(){var e=s()(this.wrap.current).find(".wpmf-flipster"),t=e.data("button");"undefined"!==typeof t&&1===parseInt(t)?e.flipster({style:"coverflow",buttons:"custom",spacing:0,loop:!0,autoplay:5e3,buttonNext:'<i class="flipto-next material-icons"> keyboard_arrow_right </i>',buttonPrev:'<i class="flipto-prev material-icons"> keyboard_arrow_left </i>',onItemSwitch:function(t,r){e.find(".flipster__container").height(s()(t).height())},onItemStart:function(t){e.find(".flipster__container").height(s()(t).height())}}):e.flipster({style:"coverflow",spacing:0,loop:!0,autoplay:5e3,onItemSwitch:function(t,r){e.find(".flipster__container").height(s()(t).height())},onItemStart:function(t){e.find(".flipster__container").height(s()(t).height())}})}},{key:"initMasonry",value:function(){var e=s()(this.wrap.current).find(".gallery-masonry"),t=e.closest(".wpmf-gallerys-addon").data("layout"),r=e.data("gutter-width");if(!e.is(":hidden")){if(e.hasClass("masonry")&&e.masonry("destroy"),e.hasClass("justified-gallery")&&e.justifiedGallery("destroy"),"horizontal"===t){var i=e.closest(".wpmf-gallerys-addon").data("row_height");return"undefined"!==typeof i&&""!==i||(i=200),void e.imagesLoaded(function(){setTimeout(function(){e.justifiedGallery({rowHeight:i,margins:r})},200)})}var o=this;e.imagesLoaded(function(){var t=e.children(".wpmf-gallery-item"),r=o.calculateGrid(e);t.css({width:r.columnWidth+"px","margin-bottom":r.gutterWidth+"px"}),e.masonry({itemSelector:".wpmf-gallery-item",columnWidth:r.columnWidth,gutter:r.gutterWidth,isFitWidth:!0,transitionDuration:0}),e.css("visibility","visible")})}}},{key:"initCustomGrid",value:function(){var e=s()(this.wrap.current).find(".wpmf-custom-grid");e.is(":hidden")||(e.hasClass("masonry")&&e.masonry("destroy"),e.hasClass("justified-gallery")&&e.justifiedGallery("destroy"),e.hasClass("wpmfInitPackery")&&e.isotope("destroy"),e.imagesLoaded(function(){var t=e.data("gutter");e.closest(".wpmf_gallery_wrap").find(".loading_gallery").hide();var r=(e.width()-12*t)/12;e.find(".grid-item").each(function(){var e=s()(this).data("styles"),i="undefined"!==typeof e.width?parseInt(e.width):2,o="undefined"!==typeof e.height?parseInt(e.height):2,a=(parseInt(i)-1)*t,n=r,l=r;i>1&&(n=r*i+a),i==o?l=n:o>1&&(l=r*o+(o-1)*t),s()(this).width(n),s()(this).height(l)}),e.isotope({itemSelector:".grid-item",layoutMode:"packery",resizable:!0,initLayout:!0,packery:{gutter:t}}),e.addClass("wpmfInitPackery")}))}},{key:"initSlider",value:function(){var e=s()(this.wrap.current).find(".wpmfslick");if(!e.is(":hidden")){var t=parseInt(e.data("number_lines")),r=parseInt(e.data("wpmfcolumns")),i=e.data("auto_animation");e.hasClass("slick-initialized")&&e.slick("destroy"),e.imagesLoaded(function(){var o={infinite:!0,slidesToShow:parseInt(r),slidesToScroll:parseInt(r),pauseOnHover:!0,autoplay:1===i,adaptiveHeight:1===parseInt(r),autoplaySpeed:5e3,rows:t,responsive:[{breakpoint:1024,settings:{slidesToShow:3,slidesToScroll:3,infinite:!0,dots:!0}},{breakpoint:600,settings:{slidesToShow:2,slidesToScroll:2}},{breakpoint:480,settings:{slidesToShow:1,slidesToScroll:1}}]};e.slick(o)})}}},{key:"loadHtml",value:function(e){var t=this;this.state.loading||this.setState({loading:!0});var r="";"on"===e.enable_shadow&&(r=e.shadow_horizontal+" "+e.shadow_vertical+" "+e.shadow_blur+" "+e.shadow_spread+" "+e.shadow_color);var i,o=e.gallery_id;-1!=o.indexOf("-")?i=o.split("-")[1]:i=o;var a={gallery_id:i,display:e.theme,layout:e.layout,row_height:e.row_height,aspect_ratio:e.aspect_ratio,columns:e.columns,number_lines:e.number_lines,size:e.size,targetsize:e.targetsize,link:e.action,orderby:e.orderby,order:e.order,gutterwidth:e.gutterwidth,border_width:e.border_width,border_style:e.border_style,border_color:e.border_color,img_shadow:r,border_radius:e.border_radius,display_tree:e.gallery_navigation,sub_galleries_listing:e.sub_galleries_listing,display_tag:e.gallery_image_tags,disable_overlay:e.disable_overlay,download_all:e.download_all,hover_color:e.hover_color,hover_opacity:e.hover_opacity,hover_title_position:e.hover_title_position,hover_title_size:e.hover_title_size,hover_title_color:e.hover_title_color,hover_desc_position:e.hover_desc_position,hover_desc_size:e.hover_desc_size,hover_desc_color:e.hover_desc_color};fetch(window.et_fb_options.ajaxurl+"?action=wpmf_divi_load_gallery_addon_html&et_admin_load_nonce=".concat(window.et_fb_options.et_admin_load_nonce),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then(function(e){return e.json()}).then(function(e){t.setState({html:e.html,loading:!1})},function(e){t.setState({html:"",loading:!0})})}},{key:"render",value:function(){var e,t=o.a.createElement("svg",{className:"wpfd-loading",width:"100%",height:"100%",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid"},o.a.createElement("g",{transform:"translate(25 50)"},o.a.createElement("circle",{cx:"0",cy:"0",r:"10",fill:"#cfcfcf",transform:"scale(0.590851 0.590851)"},o.a.createElement("animateTransform",{attributeName:"transform",type:"scale",begin:"-0.8666666666666667s",calcMode:"spline",keySplines:"0.3 0 0.7 1;0.3 0 0.7 1",values:"0.5;1;0.5",keyTimes:"0;0.5;1",dur:"2.6s",repeatCount:"indefinite"}))),o.a.createElement("g",{transform:"translate(50 50)"},o.a.createElement("circle",{cx:"0",cy:"0",r:"10",fill:"#cfcfcf",transform:"scale(0.145187 0.145187)"},o.a.createElement("animateTransform",{attributeName:"transform",type:"scale",begin:"-0.43333333333333335s",calcMode:"spline",keySplines:"0.3 0 0.7 1;0.3 0 0.7 1",values:"0.5;1;0.5",keyTimes:"0;0.5;1",dur:"2.6s",repeatCount:"indefinite"}))),o.a.createElement("g",{transform:"translate(75 50)"},o.a.createElement("circle",{cx:"0",cy:"0",r:"10",fill:"#cfcfcf",transform:"scale(0.0339143 0.0339143)"},o.a.createElement("animateTransform",{attributeName:"transform",type:"scale",begin:"0s",calcMode:"spline",keySplines:"0.3 0 0.7 1;0.3 0 0.7 1",values:"0.5;1;0.5",keyTimes:"0;0.5;1",dur:"2.6s",repeatCount:"indefinite"})))),r=this.props.gallery_id;-1!=r.indexOf("-")?e=r.split("-")[1]:e=r;return 0===e?o.a.createElement("div",{className:"wpmf-divi-container wpmf-gallery-divi-wrap",ref:this.wrap},o.a.createElement("div",{id:"divi-gallery-addon-placeholder",className:"divi-gallery-addon-placeholder"},o.a.createElement("span",{className:"wpmf-divi-message"},"Please select a gallery to activate the preview"))):this.state.loading?o.a.createElement("div",{className:"wpmf-divi-container wpmf-gallery-divi-wrap",ref:this.wrap},o.a.createElement("div",{className:"wpmf-loading-wrapper"},o.a.createElement("i",{className:"wpmf-loading"},t))):this.state.loading?void 0:o.a.createElement("div",{className:"wpmf-gallery-divi-wrap",ref:this.wrap,dangerouslySetInnerHTML:{__html:this.state.html}})}}])&&p(r.prototype,a),n&&p(r,n),t}();Object.defineProperty(d,"slug",{configurable:!0,enumerable:!0,writable:!0,value:"wpmf_gallery_addon_divi"}),t.a=d}]);